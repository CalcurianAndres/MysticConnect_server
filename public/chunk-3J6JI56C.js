import{a as n}from"./chunk-RHUNMPRV.js";import{Fa as c,Fb as e,R as p,X as m,a as r,b as s,f as a}from"./chunk-6AB4XWDR.js";var h=class i{http=m(n);users=e(()=>this.#t().promotoras);loading=e(()=>this.#t().loading);#t=c({loading:!0,promotoras:[]});ruta="https://mysticconnectserver-production.up.railway.app/api";constructor(){this.cargarPromotoras()}cargarPromotoras(){this.http.get(`${this.ruta}/users`).subscribe(t=>{this.#t.set({loading:!1,promotoras:t})})}NuevaPromotora=t=>a(this,null,function*(){this.#t.set(s(r({},this.#t()),{loading:!0})),this.http.post(`${this.ruta}/users`,t).subscribe(o=>{this.#t.set(s(r({},this.#t()),{loading:!1,promotoras:[...this.#t().promotoras,o]}))})});EditarPromotora=t=>a(this,null,function*(){this.#t.set(s(r({},this.#t()),{loading:!0})),this.http.put(`${this.ruta}/users/${t._id}`,t).subscribe(o=>{this.cargarPromotoras()})});eliminarPromotora=t=>a(this,null,function*(){this.#t.set(s(r({},this.#t()),{loading:!0})),this.http.delete(`${this.ruta}/users/${t}`).subscribe(o=>{this.cargarPromotoras()})});static \u0275fac=function(o){return new(o||i)};static \u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
