import{a as he,b as w,c as ze}from"./chunk-2D4G5YAQ.js";import{a as U}from"./chunk-OUWV2W3B.js";import{a as xe}from"./chunk-IWEUP4I2.js";import{a as ve,b as fe}from"./chunk-WDXG3P4G.js";import{g as Qe,i as De}from"./chunk-2LV7HNH4.js";import{a as Fe}from"./chunk-FW3GW2EH.js";import{c as de,d as me,g as pe,h as ue,i as be,j as _e}from"./chunk-NNPNTJPV.js";import"./chunk-TZTC4YCF.js";import{a as je}from"./chunk-O4672A62.js";import{a as ge}from"./chunk-UGQNDCKZ.js";import{$a as F,Ia as Y,Na as E,Tb as Te,Wa as I,X as B,Xb as le,Ya as k,Yb as Ie,Za as D,Zb as ee,_a as j,ab as n,bb as i,cb as v,da as q,db as oe,e as Ue,ea as O,eb as L,fb as d,ib as a,jb as p,kb as C,lb as te,nb as re,ob as se,pb as ce,sb as X,ub as b,vb as Se,wb as g,za as c}from"./chunk-BH4UYFV3.js";function Ze(r,o){r&1&&v(0,"app-loadings")}function He(r,o){if(r&1&&(n(0,"option",21),a(1),i()),r&2){let e=o.$implicit,t=o.$index;I("value",t),c(),p(e.mes)}}function Je(r,o){if(r&1){let e=oe();n(0,"div",13)(1,"div",14)(2,"label",15),a(3,"Mes"),i(),n(4,"div",16)(5,"select",17),L("change",function(){q(e);let l=d(2);return O(l.FijasPorDestajo())}),n(6,"option",18),a(7,"Fijas"),i(),n(8,"option",19),a(9,"Por destajo"),i()()()(),n(10,"div",14)(11,"label",15),a(12,"Mes"),i(),n(13,"div",16)(14,"select",20),ce("ngModelChange",function(l){q(e);let m=d(2);return se(m.indexPlanificacion,l)||(m.indexPlanificacion=l),O(l)}),L("change",function(){q(e);let l=d(2);return O(l.cambiarPlanificacion())}),j(15,He,2,2,"option",21,D),i()()(),n(17,"div",14)(18,"label",15),a(19,"Inicio"),i(),v(20,"input",22),i(),n(21,"div",14)(22,"label",15),a(23,"Cierre"),i(),v(24,"input",22),i()()}if(r&2){let e=d(2);c(14),re("ngModel",e.indexPlanificacion),c(),F(e.planificacionService.planificacion()),c(5),I("value",e.simplificar(e.planificacionService.planificacion()[e.indexPlanificacion].inicio)),c(4),I("value",e.simplificar(e.planificacionService.planificacion()[e.indexPlanificacion].cierre))}}function Ke(r,o){if(r&1&&E(0,Je,25,3,"div",13),r&2){let e=d();k(e.indexPlanificacion?0:-1)}}function Ye(r,o){if(r&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),b(7,"number"),i()()),r&2){let e=o.$implicit;c(2),p(e.nombre),c(2),p(e.linea),c(2),p(Se(7,3,e.cantidad))}}function et(r,o){if(r&1&&j(0,Ye,8,5,"tr",null,D),r&2){let e=d();F(e.topProductos.Mystic)}}function tt(r,o){if(r&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),b(7,"number"),i()()),r&2){let e=o.$implicit;c(2),p(e.nombre),c(2),p(e.linea),c(2),p(Se(7,3,e.cantidad))}}function it(r,o){if(r&1&&j(0,tt,8,5,"tr",null,D),r&2){let e=d();F(e.topProductos.Qerametik)}}var ie=class r{marcas_chart;lineas_chart;vendedoras_chart;vendedoras_qerametik;top3_chart;top3_chart_Qerametik;Reportes;ServiceReportes=B(fe);promotoras=B(xe);planificacionService=B(ve);indexPlanificacion=0;vendedoras;vendedoras_qeral;marcas;lineas;top3;top3_Qera;Cargado=!1;fijas=!0;Top3PromotorasMystic;Top3PromotorasQerametik;topProductos;topMystic=100;topQerametik=100;ProductoMasVendidoPorMarca={Mystic:"",Qerametik:""};constructor(){setTimeout(()=>{this.planificacionService.loading()||(this.indexPlanificacion=this.planificacionService.planificacion().length-1,this.recargarInfo())},500)}cambiarPlanificacion(){this.marcas_chart.destroy(),this.vendedoras_chart.destroy(),this.vendedoras_qerametik.destroy(),this.lineas_chart.destroy(),this.top3_chart&&this.top3_chart.destroy(),this.top3_chart_Qerametik&&this.top3_chart_Qerametik.destroy(),this.recargarInfo()}simplificar(o){return o.split("T")[0]}FijasPorDestajo(){this.fijas=!this.fijas,this.cambiarPlanificacion()}recargarInfo(){setTimeout(()=>{if(!this.planificacionService.loading()){this.Cargado=!0;let o=document.getElementById("vendedoras"),e=document.getElementById("vendedoras_Qerametik"),t=document.getElementById("marcas"),l=document.getElementById("lineas"),m=document.getElementById("top3"),P=document.getElementById("top3_Qerametik");this.ServiceReportes.getReportesAgrupados(this.fijas,this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe(_=>{this.Reportes=_;let s=[],u=[],S=[],V=[];this.promotoras.users().filter(x=>x.fija===this.fijas&&x.marca==="Qerametik").forEach(x=>{s.push(`${x.nombre} ${x.apellido}`),u.push(this.getProductos_Mystic(x.nombre,x.apellido))});let Q=s.map((x,y)=>({label:x,value:u[y]})).sort((x,y)=>y.value-x.value);s=Q.map(x=>x.label),u=Q.map(x=>x.value),this.promotoras.users().filter(x=>x.fija===this.fijas&&x.marca==="Mystic").forEach(x=>{S.push(`${x.nombre} ${x.apellido}`),V.push(this.getProductos_Qerametik(x.nombre,x.apellido))});let ne=S.map((x,y)=>({label:x,value:V[y]})).sort((x,y)=>y.value-x.value);S=ne.map(x=>x.label),V=ne.map(x=>x.value);let ae={id:"customDataLabelsQerametik",afterDatasetsDraw(x){let{ctx:y,data:z}=x;x.data.datasets.forEach((W,Z)=>{x.getDatasetMeta(Z).data.forEach(($,G)=>{let A=W.data[G];y.save(),y.font="12px Arial",y.fillStyle="#000",y.textAlign="center",y.fillText(A,$.x,$.y-10),y.restore()})})}},Ee={id:"customDoughnutLabels",afterDatasetsDraw(x){let{ctx:y,data:z}=x,W=z.datasets[0];x.getDatasetMeta(0).data.forEach((Z,H)=>{let $=W.data[H],G=z.labels[H],{x:A,y:N}=Z.tooltipPosition();y.save(),y.fillStyle="rgba(255, 255, 255, 0.8)";let T=6,J=y.measureText($).width,K=14;y.fillRect(A-J/2-T/2,N-K/2-T/2,J+T,K+T),y.strokeStyle="rgba(0, 0, 0, 0.3)",y.lineWidth=1,y.strokeRect(A-J/2-T/2,N-K/2-T/2,J+T,K+T),y.fillStyle="#000",y.font="12px Arial",y.textAlign="center",y.textBaseline="middle",y.fillText($,A,N),y.restore()})}};this.vendedoras_qeral={labels:s,datasets:[{label:"Ventas por vendedora",data:u,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(231, 76, 60, 1)","rgba(46, 204, 113, 1)","rgba(52, 152, 219, 1)","rgba(241, 196, 15, 1)","rgba(155, 89, 182, 1)","rgba(41, 128, 185, 1)","rgba(52, 152, 219, 1)","rgba(22, 160, 133, 1)","rgba(230, 126, 34, 1)","rgba(211, 84, 0, 1)","rgba(149, 165, 166, 1)","rgba(236, 240, 241, 1)","rgba(46, 204, 113, 1)","rgba(41, 128, 185, 1)","rgba(238, 112, 82, 1)","rgba(43, 206, 72, 1)","rgba(255, 127, 80, 1)","rgba(70, 130, 180, 1)","rgba(238, 130, 238, 1)","rgba(255, 105, 180, 1)","rgba(153, 50, 204, 1)","rgba(34, 193, 195, 1)","rgba(253, 187, 45, 1)","rgba(255, 218, 185, 1)","rgba(127, 255, 212, 1)","rgba(186, 85, 211, 1)","rgba(255, 140, 105, 1)","rgba(255, 165, 0, 1)","rgba(255, 99, 71, 1)","rgba(255, 0, 255, 1)","rgba(0, 255, 255, 1)","rgba(173, 216, 230, 1)","rgba(0, 128, 0, 1)","rgba(255, 192, 203, 1)","rgba(0, 255, 127, 1)","rgba(0, 0, 255, 1)","rgba(100, 149, 237, 1)","rgba(255, 99, 132, 1)","rgba(0, 255, 0, 1)","rgba(255, 140, 0, 1)","rgba(255, 105, 180, 1)","rgba(255, 69, 0, 1)","rgba(255, 228, 181, 1)","rgba(220, 20, 60, 1)","rgba(255, 0, 0, 1)","rgba(0, 191, 255, 1)","rgba(255, 140, 255, 1)","rgba(255, 20, 147, 1)","rgba(127, 255, 0, 1)","rgba(255, 99, 132, 1)","rgba(75, 0, 130, 1)","rgba(50, 205, 50, 1)","rgba(248, 248, 255, 1)","rgba(255, 228, 196, 1)","rgba(240, 128, 128, 1)","rgba(0, 250, 154, 1)","rgba(255, 99, 71, 1)","rgba(176, 224, 230, 1)","rgba(245, 222, 179, 1)","rgba(255, 182, 193, 1)","rgba(135, 206, 235, 1)","rgba(255, 160, 122, 1)","rgba(255, 105, 180, 1)","rgba(255, 127, 80, 1)"],borderColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(255, 159, 64)","rgb(231, 76, 60)","rgb(46, 204, 113)","rgb(52, 152, 219)","rgb(241, 196, 15)","rgb(155, 89, 182)","rgb(41, 128, 185)","rgb(52, 152, 219)","rgb(22, 160, 133)","rgb(230, 126, 34)","rgb(211, 84, 0)","rgb(149, 165, 166)","rgb(236, 240, 241)","rgb(46, 204, 113)","rgb(41, 128, 185)","rgb(238, 112, 82)","rgb(43, 206, 72)","rgb(255, 127, 80)","rgb(70, 130, 180)","rgb(238, 130, 238)","rgb(255, 105, 180)","rgb(153, 50, 204)","rgb(34, 193, 195)","rgb(253, 187, 45)","rgb(255, 218, 185)","rgb(127, 255, 212)","rgb(186, 85, 211)","rgb(255, 140, 105)","rgb(255, 165, 0)","rgb(255, 99, 71)","rgb(255, 0, 255)","rgb(0, 255, 255)","rgb(173, 216, 230)","rgb(0, 128, 0)","rgb(255, 192, 203)","rgb(0, 255, 127)","rgb(0, 0, 255)","rgb(100, 149, 237)","rgb(255, 99, 132)","rgb(0, 255, 0)","rgb(255, 140, 0)","rgb(255, 105, 180)","rgb(255, 69, 0)","rgb(255, 228, 181)","rgb(220, 20, 60)","rgb(255, 0, 0)","rgb(0, 191, 255)","rgb(255, 140, 255)","rgb(255, 20, 147)","rgb(127, 255, 0)","rgb(255, 99, 132)","rgb(75, 0, 130)","rgb(50, 205, 50)","rgb(248, 248, 255)","rgb(255, 228, 196)","rgb(240, 128, 128)","rgb(0, 250, 154)","rgb(255, 99, 71)","rgb(176, 224, 230)","rgb(245, 222, 179)","rgb(255, 182, 193)","rgb(135, 206, 235)","rgb(255, 160, 122)","rgb(255, 105, 180)","rgb(255, 127, 80)"],hoverOffset:4}]},this.vendedoras={labels:S,datasets:[{label:"Ventas por vendedora",data:V,backgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(231, 76, 60, 1)","rgba(46, 204, 113, 1)","rgba(52, 152, 219, 1)","rgba(241, 196, 15, 1)","rgba(155, 89, 182, 1)","rgba(41, 128, 185, 1)","rgba(52, 152, 219, 1)","rgba(22, 160, 133, 1)","rgba(230, 126, 34, 1)","rgba(211, 84, 0, 1)","rgba(149, 165, 166, 1)","rgba(236, 240, 241, 1)","rgba(46, 204, 113, 1)","rgba(41, 128, 185, 1)","rgba(238, 112, 82, 1)","rgba(43, 206, 72, 1)","rgba(255, 127, 80, 1)","rgba(70, 130, 180, 1)","rgba(238, 130, 238, 1)","rgba(255, 105, 180, 1)","rgba(153, 50, 204, 1)","rgba(34, 193, 195, 1)","rgba(253, 187, 45, 1)","rgba(255, 218, 185, 1)","rgba(127, 255, 212, 1)","rgba(186, 85, 211, 1)","rgba(255, 140, 105, 1)","rgba(255, 165, 0, 1)","rgba(255, 99, 71, 1)","rgba(255, 0, 255, 1)","rgba(0, 255, 255, 1)","rgba(173, 216, 230, 1)","rgba(0, 128, 0, 1)","rgba(255, 192, 203, 1)","rgba(0, 255, 127, 1)","rgba(0, 0, 255, 1)","rgba(100, 149, 237, 1)","rgba(255, 99, 132, 1)","rgba(0, 255, 0, 1)","rgba(255, 140, 0, 1)","rgba(255, 105, 180, 1)","rgba(255, 69, 0, 1)","rgba(255, 228, 181, 1)","rgba(220, 20, 60, 1)","rgba(255, 0, 0, 1)","rgba(0, 191, 255, 1)","rgba(255, 140, 255, 1)","rgba(255, 20, 147, 1)","rgba(127, 255, 0, 1)","rgba(255, 99, 132, 1)","rgba(75, 0, 130, 1)","rgba(50, 205, 50, 1)","rgba(248, 248, 255, 1)","rgba(255, 228, 196, 1)","rgba(240, 128, 128, 1)","rgba(0, 250, 154, 1)","rgba(255, 99, 71, 1)","rgba(176, 224, 230, 1)","rgba(245, 222, 179, 1)","rgba(255, 182, 193, 1)","rgba(135, 206, 235, 1)","rgba(255, 160, 122, 1)","rgba(255, 105, 180, 1)","rgba(255, 127, 80, 1)"],borderColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 206, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(255, 159, 64)","rgb(231, 76, 60)","rgb(46, 204, 113)","rgb(52, 152, 219)","rgb(241, 196, 15)","rgb(155, 89, 182)","rgb(41, 128, 185)","rgb(52, 152, 219)","rgb(22, 160, 133)","rgb(230, 126, 34)","rgb(211, 84, 0)","rgb(149, 165, 166)","rgb(236, 240, 241)","rgb(46, 204, 113)","rgb(41, 128, 185)","rgb(238, 112, 82)","rgb(43, 206, 72)","rgb(255, 127, 80)","rgb(70, 130, 180)","rgb(238, 130, 238)","rgb(255, 105, 180)","rgb(153, 50, 204)","rgb(34, 193, 195)","rgb(253, 187, 45)","rgb(255, 218, 185)","rgb(127, 255, 212)","rgb(186, 85, 211)","rgb(255, 140, 105)","rgb(255, 165, 0)","rgb(255, 99, 71)","rgb(255, 0, 255)","rgb(0, 255, 255)","rgb(173, 216, 230)","rgb(0, 128, 0)","rgb(255, 192, 203)","rgb(0, 255, 127)","rgb(0, 0, 255)","rgb(100, 149, 237)","rgb(255, 99, 132)","rgb(0, 255, 0)","rgb(255, 140, 0)","rgb(255, 105, 180)","rgb(255, 69, 0)","rgb(255, 228, 181)","rgb(220, 20, 60)","rgb(255, 0, 0)","rgb(0, 191, 255)","rgb(255, 140, 255)","rgb(255, 20, 147)","rgb(127, 255, 0)","rgb(255, 99, 132)","rgb(75, 0, 130)","rgb(50, 205, 50)","rgb(248, 248, 255)","rgb(255, 228, 196)","rgb(240, 128, 128)","rgb(0, 250, 154)","rgb(255, 99, 71)","rgb(176, 224, 230)","rgb(245, 222, 179)","rgb(255, 182, 193)","rgb(135, 206, 235)","rgb(255, 160, 122)","rgb(255, 105, 180)","rgb(255, 127, 80)"],hoverOffset:4}]},this.vendedoras_chart=new U(o,{type:"bar",data:this.vendedoras,options:{plugins:{legend:{display:!0}}},plugins:[ae]}),this.vendedoras_qerametik=new U(e,{type:"bar",data:this.vendedoras_qeral,options:{plugins:{legend:{display:!0}}},plugins:[ae]}),this.ServiceReportes.cargarReportes_(this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe(x=>{let y=x;y=y.filter(h=>h.promotora.fija===this.fijas);let z=0,W=0,Z=0,H=0,$=0,G={},A={},N={},T={};y.forEach(h=>{let M=`${h.promotora.nombre} ${h.promotora.apellido}`;T[M]||(T[M]={Mystic:0,Qerametik:0}),h.promotora.marca==="Mystic"?h.productos.forEach(f=>{f.producto.marca==="Mystic"&&(T[M].Mystic+=f.cantidad)}):h.promotora.marca==="Qerametik"&&h.productos.forEach(f=>{f.producto.marca==="Qerametik"&&(T[M].Qerametik+=f.cantidad)});let Xe=Object.entries(T).map(([f,R])=>({promotoraId:f,cantidadMystic:R.Mystic})).sort((f,R)=>R.cantidadMystic-f.cantidadMystic).slice(0,3),Ge=Object.entries(T).map(([f,R])=>({promotoraId:f,cantidadQerametik:R.Qerametik})).sort((f,R)=>R.cantidadQerametik-f.cantidadQerametik).slice(0,3);this.Top3PromotorasMystic=Xe,this.Top3PromotorasQerametik=Ge,h.productos.forEach(f=>{f.producto.marca==="Mystic"?(z+=f.cantidad,A[f.producto._id]?A[f.producto._id].cantidad+=f.cantidad:A[f.producto._id]={nombre:f.producto.producto,cantidad:f.cantidad,linea:f.producto.linea},f.producto.linea==="Tradicional"?Z+=f.cantidad:f.producto.linea==="Rebranding"&&(H+=f.cantidad)):f.producto.marca==="Qerametik"&&(W+=f.cantidad,N[f.producto._id]?N[f.producto._id].cantidad+=f.cantidad:N[f.producto._id]={nombre:f.producto.producto,cantidad:f.cantidad,linea:f.producto.linea},$+=f.cantidad);let R=`${h.promotora.nombre} ${h.promotora.apellido}`;G[R]?G[R]+=f.cantidad:G[R]=f.cantidad})});let J=Object.entries(A).map(([h,M])=>({productoId:h,linea:M.linea,nombre:M.nombre,cantidad:M.cantidad})).sort((h,M)=>M.cantidad-h.cantidad).slice(0,this.topMystic),K=Object.entries(N).map(([h,M])=>({productoId:h,linea:M.linea,nombre:M.nombre,cantidad:M.cantidad})).sort((h,M)=>M.cantidad-h.cantidad).slice(0,this.topQerametik);this.topProductos={Mystic:J,Qerametik:K};let qt=Object.entries(G).map(([h,M])=>({promotoraId:h,totalVentas:M})).sort((h,M)=>M.totalVentas-h.totalVentas).slice(0,3).map(h=>({nombre:h.promotoraId,totalVentas:h.totalVentas}));this.marcas={labels:["Mystic","Qerametik"],datasets:[{label:"Marca mas vendida",data:[z,W],backgroundColor:["#001a72","#6bcaba"],borderColor:["#fe5000","#c99700"],hoverOffset:4}]},this.marcas_chart=new U(t,{type:"doughnut",data:this.marcas,options:{plugins:{legend:{display:!0}}},plugins:[Ee]}),this.lineas={labels:["Tradicional","Tradicional Qerametik","Rebranding"],datasets:[{label:"Marca mas vendida",data:[Z,$,H],backgroundColor:["#001a72","#6bcaba","#fe5000"],borderColor:["#fe5000","#c99700","#001a72"],hoverOffset:4}]},this.lineas_chart=new U(l,{type:"doughnut",data:this.lineas,options:{plugins:{legend:{display:!0}}},plugins:[Ee]});let ke=this.Top3PromotorasMystic,Me=this.Top3PromotorasQerametik,$e=ke.map(h=>h.promotoraId),Ne=ke.map(h=>h.cantidadMystic),qe=Me.map(h=>h.promotoraId),Oe=Me.map(h=>h.cantidadQerametik);this.top3={labels:$e,datasets:[{axis:"y",label:"Ventas realizadas",data:Ne,fill:!1,backgroundColor:["rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)","rgba(255, 205, 86, 1)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)"],borderWidth:1}]},this.top3_Qera={labels:qe,datasets:[{axis:"y",label:"Ventas realizadas",data:Oe,fill:!1,backgroundColor:["rgba(255, 99, 132, 1)","rgba(255, 159, 64, 1)","rgba(255, 205, 86, 1)"],borderColor:["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)"],borderWidth:1}]},this.top3_chart=new U(m,{type:"bar",data:this.top3,options:{indexAxis:"y",plugins:{legend:{display:!0}}},plugins:[ae]}),this.top3_chart_Qerametik=new U(P,{type:"bar",data:this.top3_Qera,options:{indexAxis:"y",plugins:{legend:{display:!0}}},plugins:[ae]}),this.Cargado=!1})})}},1e3)}getPuntos(o,e){let t=this.Reportes.find(l=>l.promotora===`${o} ${e}`);return t?t.puntosAcumulados:0}getProductos_Mystic(o,e){let t=this.Reportes.find(l=>l.promotora===`${o} ${e}`);return t?t.productosQerametik:0}getProductos_Qerametik(o,e){let t=this.Reportes.find(l=>l.promotora===`${o} ${e}`);return t?t.productosMystic:0}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Y({type:r,selectors:[["app-graficas"]],decls:81,vars:3,consts:[[1,"header"],[1,"columns"],[1,"column"],[1,"card"],[1,"card-content"],[1,"title"],["id","marcas"],["id","lineas"],["id","top3"],["id","top3_Qerametik"],[1,"table","is-fullwidth","is-striped"],["id","vendedoras"],["id","vendedoras_Qerametik"],[1,"field","is-grouped"],[1,"control"],["for","",1,"label"],[1,"select"],[3,"change"],["value","Fijas"],["values","NoFijas"],[3,"ngModelChange","change","ngModel"],[3,"value"],["type","date","disabled","",1,"input",3,"value"]],template:function(e,t){e&1&&(n(0,"span",0),E(1,Ze,1,0,"app-loadings")(2,Ke,1,1),v(3,"br"),i(),n(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"span",5),a(9,"Marca mas vendida"),i(),v(10,"br")(11,"canvas",6),i()()(),n(12,"div",2)(13,"div",3)(14,"div",4)(15,"span",5),a(16,"Linea mas vendida"),i(),v(17,"br")(18,"canvas",7),i()()()(),n(19,"div",1)(20,"div",2)(21,"div",3)(22,"div",4)(23,"span",5),a(24,"TOP 3 Promotoras Mystic"),i(),v(25,"br")(26,"canvas",8),i()()(),n(27,"div",2)(28,"div",3)(29,"div",4)(30,"span",5),a(31,"TOP 3 Promotoras Qerametik"),i(),v(32,"br")(33,"canvas",9),i()()()(),n(34,"div",1)(35,"div",2)(36,"div",3)(37,"div",4)(38,"span",5),a(39,"TOP Productos Mystic"),i(),v(40,"br"),n(41,"table",10)(42,"thead")(43,"tr")(44,"th"),a(45,"Producto"),i(),n(46,"th"),a(47,"Linea"),i(),n(48,"th"),a(49,"Cantidad"),i()()(),n(50,"tbody"),E(51,et,2,0),i()()()()(),n(52,"div",2)(53,"div",3)(54,"div",4)(55,"span",5),a(56,"TOP Productos Qerametik"),i(),v(57,"br"),n(58,"table",10)(59,"thead")(60,"tr")(61,"th"),a(62,"Producto"),i(),n(63,"th"),a(64,"Linea"),i(),n(65,"th"),a(66,"Cantidad"),i()()(),n(67,"tbody"),E(68,it,2,0),i()()()()()(),n(69,"div",3)(70,"div",4)(71,"span",5),a(72,"Vendedoras Mystic"),i(),v(73,"br")(74,"canvas",11),i()(),n(75,"div",3)(76,"div",4)(77,"span",5),a(78,"Vendedoras Qerametik"),i(),v(79,"br")(80,"canvas",12),i()()),e&2&&(c(),k(t.planificacionService.loading()?1:2),c(50),k(t.topProductos?51:-1),c(17),k(t.topProductos?68:-1))},dependencies:[_e,ue,be,pe,de,me,ee,le,ge],encapsulation:2})};var ye=Ue(ze());var Be=r=>["/dashboard/cliente",r],we=r=>["/dashboard/region",r];function nt(r,o){if(r&1&&(n(0,"option",9),a(1),i()),r&2){let e=o.$implicit,t=o.$index;I("value",t),c(),p(e.mes)}}function at(r,o){if(r&1&&(a(0),b(1,"currency")),r&2){let e=d().$implicit;C(" ",g(1,1,e.Incentivo,"USD")," ")}}function ot(r,o){r&1&&(a(0),b(1,"currency")),r&2&&C(" ",g(1,1,0,"USD")," ")}function rt(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",g(2,1,t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function st(r,o){if(r&1&&(n(0,"span",27),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function ct(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function lt(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",g(2,1,t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function dt(r,o){if(r&1&&(n(0,"span",27),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function mt(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function pt(r,o){if(r&1&&(n(0,"span",26),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",t.calcularPromedio(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function ut(r,o){if(r&1&&(n(0,"span",27),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",t.calcularPromedio(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function bt(r,o){if(r&1&&(n(0,"span",28),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",t.calcularPromedio(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function _t(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPromedioRebranding(e["Productos vendidos"],e.Rebranding),"1.2-2"),"%")}}function gt(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPromedioRebranding(e["Productos vendidos"],e.Rebranding),"1.2-2"),"%")}}function xt(r,o){if(r&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),i(),n(7,"td"),a(8),i(),n(9,"td"),a(10),b(11,"number"),i(),n(12,"td"),a(13),b(14,"number"),i(),n(15,"td"),a(16),b(17,"number"),i(),n(18,"td"),a(19),b(20,"number"),i(),n(21,"td"),E(22,at,2,4)(23,ot,2,4),i(),n(24,"td"),E(25,rt,3,4,"span",26)(26,st,3,4,"span",27)(27,ct,3,4,"span",28),i(),n(28,"td"),E(29,lt,3,4,"span",26)(30,dt,3,4,"span",27)(31,mt,3,4,"span",28),i(),n(32,"td"),E(33,pt,2,1,"span",26)(34,ut,2,1,"span",27)(35,bt,2,1,"span",28),i(),n(36,"td"),E(37,_t,3,4,"span",26)(38,gt,3,4,"span",28),i(),n(39,"td"),a(40),b(41,"currency"),i(),n(42,"td"),a(43),b(44,"currency"),i(),n(45,"td"),a(46),b(47,"number"),i(),n(48,"td"),a(49),b(50,"number"),i(),n(51,"td"),a(52),b(53,"currency"),i(),n(54,"td"),a(55),b(56,"number"),i()()),r&2){let e=o.$implicit,t=d(2);c(2),p(e.Promotora),c(2),p(e.Marca),c(2),p(e.Region),c(2),p(e.clientes_atendidos),c(2),te("",g(11,21,e["Total ventas de impulso"],"1.0-0")," (",e["Dias impulso"]," dias)"),c(3),te("",g(14,24,e["Total ventas de evento"],"1.0-0")," (",e["Dias evento"]," dias)"),c(3),p(g(17,27,e["Productos vendidos"],"1.0-0")),c(3),p(g(20,30,e.Puntuaci\u00F3n,"1.1-1")),c(3),k(t.calcularPromedioRebranding(e["Productos vendidos"],e.Rebranding)>=30?22:23),c(3),k(t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"])>=60?25:t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"])>=30?26:27),c(4),k(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"])>=60?29:t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"])>=30?30:31),c(4),k(t.calcularPromedio(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"]))>=60?33:t.calcularPromedio(t.calcularPorcentaje_evento_Mystic(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Mystic(e["Total ventas de impulso"],e["Dias impulso"]))>=30?34:35),c(4),k(t.calcularPromedioRebranding(e["Productos vendidos"],e.Rebranding)>=30?37:38),c(3),p(g(41,33,e["Costo promedio"],"USD")),c(3),p(g(44,36,e["Monto de Und. Vendidas"],"USD")),c(3),C("",g(47,39,e.Incidencia,"1.2-2"),"%"),c(3),p(g(50,42,e["Sueldo diario"],"1.2-2")),c(3),p(g(53,45,e["Ventas diarias"],"USD")),c(3),C("",g(56,48,e["Sueldo diario"]*100/e["Ventas diarias"],"1.2-2"),"%")}}function vt(r,o){r&1&&(n(0,"tr")(1,"td",29),a(2,"No hay datos"),i()())}function ft(r,o){if(r&1&&(a(0),b(1,"currency")),r&2){let e=d().$implicit;C(" ",g(1,1,e.Incentivo,"USD")," ")}}function ht(r,o){r&1&&(a(0),b(1,"currency")),r&2&&C(" ",g(1,1,0,"USD")," ")}function yt(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",g(2,1,t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function Ct(r,o){if(r&1&&(n(0,"span",27),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function St(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"]),"1.2-2"),"%")}}function Pt(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",g(2,1,t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function Et(r,o){if(r&1&&(n(0,"span",27),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function kt(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),"1.2-2"),"%")}}function Mt(r,o){if(r&1&&(n(0,"span",26),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C(" ",t.calcularPromedio(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function Tt(r,o){if(r&1&&(n(0,"span",27),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",t.calcularPromedio(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function It(r,o){if(r&1&&(n(0,"span",28),a(1),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",t.calcularPromedio(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"])),"%")}}function Qt(r,o){if(r&1&&(n(0,"span",26),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPromedioRebranding(e["Productos vendidos"],e.capilares),"1.2-2"),"%")}}function Dt(r,o){if(r&1&&(n(0,"span",28),a(1),b(2,"number"),i()),r&2){let e=d().$implicit,t=d(2);c(),C("",g(2,1,t.calcularPromedioRebranding(e["Productos vendidos"],e.capilares),"1.2-2"),"%")}}function jt(r,o){if(r&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td"),a(4),i(),n(5,"td"),a(6),i(),n(7,"td"),a(8),i(),n(9,"td"),a(10),b(11,"number"),i(),n(12,"td"),a(13),b(14,"number"),i(),n(15,"td"),a(16),b(17,"number"),i(),n(18,"td"),a(19),b(20,"number"),i(),n(21,"td"),E(22,ft,2,4)(23,ht,2,4),i(),n(24,"td"),E(25,yt,3,4,"span",26)(26,Ct,3,4,"span",27)(27,St,3,4,"span",28),i(),n(28,"td"),E(29,Pt,3,4,"span",26)(30,Et,3,4,"span",27)(31,kt,3,4,"span",28),i(),n(32,"td"),E(33,Mt,2,1,"span",26)(34,Tt,2,1,"span",27)(35,It,2,1,"span",28),i(),n(36,"td"),E(37,Qt,3,4,"span",26)(38,Dt,3,4,"span",28),i(),n(39,"td"),a(40),b(41,"currency"),i(),n(42,"td"),a(43),b(44,"currency"),i(),n(45,"td"),a(46),i(),n(47,"td"),a(48),b(49,"number"),i(),n(50,"td"),a(51),b(52,"currency"),i(),n(53,"td"),a(54),b(55,"number"),i()()),r&2){let e=o.$implicit,t=d(2);c(2),p(e.Promotora),c(2),p(e.Marca),c(2),p(e.Region),c(2),p(e.clientes_atendidos),c(2),te("",g(11,21,e["Total ventas de impulso"],"1.0-0")," (",e["Dias impulso"]," dias)"),c(3),te("",g(14,24,e["Total ventas de evento"],"1.0-0")," (",e["Dias evento"]," dias)"),c(3),p(g(17,27,e["Productos vendidos"],"1.0-0")),c(3),p(g(20,30,e.Puntuaci\u00F3n,"1.1-1")),c(3),k(t.calcularPromedioRebranding(e["Productos vendidos"],e.capilares)>=20?22:23),c(3),k(t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"])>=60?25:t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"])>=30?26:27),c(4),k(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"])>=60?29:t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"])>=30?30:31),c(4),k(t.calcularPromedio(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"]))>=60?33:t.calcularPromedio(t.calcularPorcentaje_evento_Qerametik(e["Total ventas de evento"],e["Dias evento"]),t.calcularPorcentaje_impulso_Qerametik(e["Total ventas de impulso"],e["Dias impulso"]))>=30?34:35),c(4),k(t.calcularPromedioRebranding(e["Productos vendidos"],e.capilares)>=20?37:38),c(3),p(g(41,33,e["Costo promedio"],"USD")),c(3),p(g(44,36,e["Monto de Und. Vendidas"],"USD")),c(3),C("",e.Incidencia,"%"),c(2),p(g(49,39,e["Sueldo diario"],"1.2-2")),c(3),p(g(52,42,e["Ventas diarias"],"USD")),c(3),C("",g(55,45,e["Sueldo diario"]*100/e["Ventas diarias"],"1.2-2"),"%")}}function Ft(r,o){r&1&&(n(0,"tr")(1,"td",29),a(2,"No hay datos"),i()())}function Lt(r,o){if(r&1&&(n(0,"tr")(1,"td")(2,"a",30),a(3),i()(),n(4,"td"),a(5),i(),n(6,"td"),a(7),i(),n(8,"td"),a(9),i(),n(10,"td"),a(11),i(),n(12,"td"),a(13),i(),n(14,"td"),a(15),i(),n(16,"td"),a(17),i()()),r&2){let e=o.$implicit;c(2),I("routerLink",X(9,Be,e.cliente)),c(),p(e.cliente),c(2),p(e.impulsos_mystic),c(2),p(e.eventos_mystic),c(2),p(e.impulsos_qerametik),c(2),p(e.eventos_qerametik),c(2),p(e.cantidad_mystic),c(2),p(e.cantidad_Qerametik),c(2),p(e.cantidad)}}function Rt(r,o){if(r&1&&(n(0,"tr")(1,"td")(2,"a",30),a(3),i()(),n(4,"td"),a(5),i()()),r&2){let e=o.$implicit;c(2),I("routerLink",X(3,we,e.zona)),c(),p(e.zona),c(2),p(e.totalProductos)}}function At(r,o){if(r&1&&(n(0,"tr")(1,"td")(2,"a",30),a(3),i()(),n(4,"td"),a(5),i()()),r&2){let e=o.$implicit;c(2),I("routerLink",X(3,we,e.zona)),c(),p(e.zona),c(2),p(e.totalProductos)}}function Bt(r,o){if(r&1&&(n(0,"tr")(1,"td"),a(2),i(),n(3,"td")(4,"a",30),a(5),i()()()),r&2){let e=o.$implicit,t=o.$index;c(2),p(t+1),c(2),I("routerLink",X(3,Be,e)),c(),p(e)}}function wt(r,o){if(r&1){let e=oe();n(0,"span",0),a(1,"Mystic"),i(),v(2,"br")(3,"br"),n(4,"table",11)(5,"thead",12)(6,"tr")(7,"th"),a(8,"Promotora"),i(),n(9,"th"),a(10,"Marca"),i(),n(11,"th"),a(12,"Regi\xF3n"),i(),n(13,"th"),a(14,"Clientes atendidos"),i(),n(15,"th"),a(16,"Ventas / impulso"),i(),n(17,"th"),a(18,"Ventas / evento"),i(),n(19,"th"),a(20,"Productos vendidos"),i(),n(21,"th"),a(22,"Puntuaci\xF3n"),i(),n(23,"th"),a(24,"Incentivo"),i(),n(25,"th"),a(26,"Promedio de exito Impuso"),i(),n(27,"th"),a(28,"Promedio de exito Eventos"),i(),n(29,"th"),a(30,"Promedio General"),i(),n(31,"th"),a(32,"Rebrandig"),i(),n(33,"th"),a(34,"Costo Promedio"),i(),n(35,"th"),a(36,"Monto Und. Vendidas"),i(),n(37,"th"),a(38,"Incidencias"),i(),n(39,"th"),a(40,"Sueldo diario"),i(),n(41,"th"),a(42,"Ventas diarias"),i(),n(43,"th"),a(44,"Incidencia diaria"),i()()(),n(45,"tbody"),j(46,xt,57,51,"tr",null,D),n(48,"tr")(49,"td",13)(50,"strong"),a(51,"Total:"),i()(),n(52,"td"),a(53),b(54,"currency"),i(),v(55,"td")(56,"td")(57,"td")(58,"td")(59,"td"),n(60,"td"),a(61),b(62,"currency"),i(),v(63,"td"),i(),E(64,vt,3,0,"tr"),i()(),v(65,"hr"),n(66,"span",0),a(67,"Qerametik"),i(),v(68,"br")(69,"br"),n(70,"table",11)(71,"thead",12)(72,"tr")(73,"th"),a(74,"Promotora"),i(),n(75,"th"),a(76,"Marca"),i(),n(77,"th"),a(78,"Regi\xF3n"),i(),n(79,"th"),a(80,"Clientes atendidos"),i(),n(81,"th"),a(82,"Ventas / impulso"),i(),n(83,"th"),a(84,"Ventas / evento"),i(),n(85,"th"),a(86,"Productos vendidos"),i(),n(87,"th"),a(88,"Puntuaci\xF3n"),i(),n(89,"th"),a(90,"Incentivo"),i(),n(91,"th"),a(92,"Promedio de exito Impuso"),i(),n(93,"th"),a(94,"Promedio de exito Eventos"),i(),n(95,"th"),a(96,"Promedio General"),i(),n(97,"th"),a(98,"Capilares"),i(),n(99,"th"),a(100,"Costo Promedio"),i(),n(101,"th"),a(102,"Monto Und. Vendidas"),i(),n(103,"th"),a(104,"Incidencias"),i(),n(105,"th"),a(106,"Sueldo diario"),i(),n(107,"th"),a(108,"Ventas diarias"),i(),n(109,"th"),a(110,"Incidencia diaria"),i()()(),n(111,"tbody"),j(112,jt,56,48,"tr",null,D),n(114,"tr")(115,"td",13)(116,"strong"),a(117,"Total:"),i()(),n(118,"td"),a(119),b(120,"currency"),i(),v(121,"td")(122,"td")(123,"td")(124,"td"),n(125,"td"),a(126),b(127,"currency"),i(),v(128,"td"),i(),E(129,Ft,3,0,"tr"),i()(),n(130,"button",14),L("click",function(){q(e);let l=d();return O(l.exportarExcel())}),a(131,` Exportar a Excel
`),i(),v(132,"br")(133,"br"),n(134,"div",15)(135,"div",16)(136,"table",17)(137,"thead",12)(138,"tr")(139,"td",18)(140,"span",19),a(141,"Productos vendidos por clientes"),i(),a(142," \xA0 "),n(143,"div",20),L("click",function(){q(e);let l=d();return O(l.exportarClientes())}),n(144,"span",21),v(145,"i",22),i(),n(146,"span"),a(147,"Descargar"),i()(),v(148,"hr"),i()(),n(149,"tr")(150,"th"),a(151,"Cliente"),i(),n(152,"th"),a(153,"Impulsos Mystic"),i(),n(154,"th"),a(155,"Eventos Mystic"),i(),n(156,"th"),a(157,"Impulsos Qerametik"),i(),n(158,"th"),a(159,"Eventos Qerametik"),i(),n(160,"th"),a(161,"Mystic"),i(),n(162,"th"),a(163,"Qerametik"),i(),n(164,"th"),a(165,"Total"),i()()(),n(166,"tbody"),j(167,Lt,18,11,"tr",null,D),i()()()(),n(169,"div",15)(170,"div",23)(171,"span",0),a(172,"Mystic"),i(),v(173,"hr"),n(174,"table",17)(175,"thead")(176,"tr")(177,"th"),a(178,"Zona"),i(),n(179,"th"),a(180,"Total Productos Vendidos"),i()()(),n(181,"tbody"),j(182,Rt,6,5,"tr",null,D),i()()(),n(184,"div",23)(185,"span",0),a(186,"Qerametik"),i(),v(187,"hr"),n(188,"table",17)(189,"thead")(190,"tr")(191,"th"),a(192,"Zona"),i(),n(193,"th"),a(194,"Total Productos Vendidos"),i()()(),n(195,"tbody"),j(196,At,6,5,"tr",null,D),i()()()(),n(198,"div",24)(199,"div",25)(200,"span",0),a(201,"Clientes no atendidos"),i(),a(202,"\xA0 "),n(203,"div",20),L("click",function(){q(e);let l=d();return O(l.exportarClientesNoAtendidos())}),n(204,"span",21),v(205,"i",22),i(),n(206,"span"),a(207,"Descargar"),i()(),v(208,"br"),n(209,"table",17)(210,"thead")(211,"tr"),v(212,"th"),n(213,"th"),a(214,"Cliente"),i()()(),n(215,"tbody"),j(216,Bt,6,5,"tr",null,D),i()()()()}if(r&2){let e=d();c(46),F(e.datos_Mystic),c(7),p(g(54,6,e.calcularTotales(e.datos_Mystic,"Incentivo"),"USD")),c(8),p(g(62,9,e.calcularTotales(e.datos_Mystic,"Monto de Und. Vendidas"),"USD")),c(3),k(e.datos_Mystic.length<1?64:-1),c(48),F(e.datos_Qerametik),c(7),p(g(120,12,e.calcularTotales(e.datos_Qerametik,"Incentivo"),"USD")),c(7),p(g(127,15,e.calcularTotales(e.datos_Qerametik,"Monto de Und. Vendidas"),"USD")),c(3),k(e.datos_Qerametik.length<1?129:-1),c(38),F(e.clientesArray),c(15),F(e.ventasPorZonaMystic),c(14),F(e.ventasPorZonaQerametik),c(20),F(e.clientesNoAtendidos)}}function Vt(r,o){r&1&&v(0,"app-loadings")}var Ce=class r{exportarExcel(){let o=this.reportesAgrupadosOrdenados.filter(s=>{let u=this.obtenerIncentivos(s.puntosMystic,s.puntosQerametik,s.promotora,s.marca,s.productosMystic).mystic;return s.marca==="Mystic"||s.marca!=="Mystic"&&s.productosMystic>0}).map(s=>{let u=this.calcularPromedioRebranding(s.productosMystic,s.porcentajeRebranding),S=this.obtenerIncentivos(s.puntosMystic,s.puntosQerametik,s.promotora,s.marca,s.productosMystic).mystic;return u<30&&(S=0),{Promotora:s.promotora,Marca:s.marca,Region:s.region,"Clientes antendidos":s.clientes_atendidos,"Productos vendidos":s.productosMystic.toFixed(2),"Costo promedio":this.promedio.mystic.toFixed(2),Puntuaci\u00F3n:s.puntosMystic.toFixed(2),Incentivo:S.toFixed(2),"Promedio de exito Impuso":this.calcularPorcentaje_impulso_Mystic(s.totalImpulsos,this.buscarDiasTrabajados(s.promotora).impulsoMystic).toFixed(2),"Promedio de exito Eventos":this.calcularPorcentaje_evento_Mystic(s.totalEventos,this.buscarDiasTrabajados(s.promotora).eventoMystic).toFixed(2),"Promedio General":this.calcularPromedio(this.calcularPorcentaje_impulso_Mystic(s.totalImpulsos,this.buscarDiasTrabajados(s.promotora).impulsoMystic),this.calcularPorcentaje_evento_Mystic(s.totalEventos,this.buscarDiasTrabajados(s.promotora).eventoMystic)).toFixed(2),Rebranding:`${u.toFixed(2)}%`,"Monto de Und. Vendidas":(this.promedio.mystic*s.productosMystic).toFixed(2),Incidencia:(S/(this.promedio.mystic*s.productosMystic)*100).toFixed(2),"Total ventas de impulso":s.totalImpulsos.toFixed(2),"Total ventas de evento":s.totalEventos.toFixed(2),"Dias impulso":this.buscarDiasTrabajados(s.promotora).impulsoMystic.toFixed(2),"Dias evento":this.buscarDiasTrabajados(s.promotora).eventoMystic.toFixed(2),"Sueldo diario":(Number(s.sueldo)/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2),"Ventas diarias":(this.promedio.mystic*s.productosMystic/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2),"incidencia diaria":Number((Number(s.sueldo)/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2))*100/Number((this.promedio.mystic*s.productosMystic/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2))}}).sort((s,u)=>Number(u.Puntuaci\u00F3n)-Number(s.Puntuaci\u00F3n)),e=this.reportesAgrupadosOrdenados.filter(s=>{let u=this.obtenerIncentivos(s.puntosMystic,s.puntosQerametik,s.promotora,s.marca,s.productosMystic).qerametik;return s.marca==="Qerametik"||s.marca!=="Qerametik"&&s.productosQerametik>0}).map(s=>{let u=this.calcularPromedioRebranding(s.productosQerametik,s.porcentajeCapilares),S=this.obtenerIncentivos(s.puntosMystic,s.puntosQerametik,s.promotora,s.marca,s.productosMystic).qerametik;return u<20&&(S=0),{Promotora:s.promotora,Marca:s.marca,Region:s.region,"Clientes antendidos":s.clientes_atendidos,"Productos vendidos":s.productosQerametik,"Costo promedio":this.promedio.qerametik,Puntuaci\u00F3n:s.puntosQerametik,Incentivo:S.toFixed(2),"Promedio de exito Impuso":this.calcularPorcentaje_impulso_Qerametik(s.totalImpulsos_qerametik,this.buscarDiasTrabajados(s.promotora).impulsoQerametik),"Promedio de exito Eventos":this.calcularPorcentaje_evento_Qerametik(s.totalEventos_qerametik,this.buscarDiasTrabajados(s.promotora).eventoQerametik),"Promedio General":this.calcularPromedio(this.calcularPorcentaje_impulso_Qerametik(s.totalImpulsos_qerametik,this.buscarDiasTrabajados(s.promotora).impulsoQerametik),this.calcularPorcentaje_evento_Qerametik(s.totalEventos_qerametik,this.buscarDiasTrabajados(s.promotora).eventoQerametik)),Capilares:`${u.toFixed(2)}%`,"Monto de Und. Vendidas":this.promedio.qerametik*s.productosQerametik,Incidencia:(S/(this.promedio.qerametik*s.productosQerametik)*100).toFixed(2),"Total ventas de impulso":s.totalImpulsos_qerametik,"Total ventas de evento":s.totalEventos_qerametik,"Dias impulso":this.buscarDiasTrabajados(s.promotora).impulsoQerametik,"Dias evento":this.buscarDiasTrabajados(s.promotora).eventoQerametik,"Sueldo diario":Number(s.sueldo)/this.buscarDiasTrabajados(s.promotora).totalDias,"Ventas diarias":this.promedio.qerametik*s.productosQerametik/this.buscarDiasTrabajados(s.promotora).totalDias,"incidencia diaria":Number((Number(s.sueldo)/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2))*100/Number((this.promedio.qerametik*s.productosQerametik/this.buscarDiasTrabajados(s.promotora).totalDias).toFixed(2))}}).sort((s,u)=>u.Puntuaci\u00F3n-s.Puntuaci\u00F3n),t=w.json_to_sheet(o),l=w.json_to_sheet(e),P=he({Sheets:{"Reportes Mystic":t,"Reportes Qerametik":l},SheetNames:["Reportes Mystic","Reportes Qerametik"]},{bookType:"xlsx",type:"array"}),_=new Blob([P],{type:"application/octet-stream"});(0,ye.saveAs)(_,"ReportePromotoras.xlsx")}calcularIncidencia(o){return(this.obtenerIncentivo(o.puntosAcumulados,this.planificacionService.planificacion()[this.indexPlanificacion].incentivos)/o.totalGastado*100).toFixed(2)+"%"}calcularSueldoPorDia(o){return this.puntos(this.BuscarInfo(o.promotora)?.sueldo)/o.reportes.length}calcularVentasPorDia(o){return o.totalGastado/o.reportes.length}calcularIncidenciaPorcentaje(o){return(this.calcularSueldoPorDia(o)/this.calcularVentasPorDia(o)*100).toFixed(2)+"%"}calcularPromedioRebranding(o,e){return e/o*100}ReportesServices=B(fe);reportesAgrupados;planificacionService=B(ve);promotoras=B(xe);clientes=B(Fe);datos_Mystic=[];datos_Qerametik=[];clientesMystic=[];clientesQerametik=[];ventasPorZonaMystic=[];ventasPorZonaQerametik=[];clientesNoAtendidos=[];fijas=!0;clientesArray=[];promedio={mystic:0,qerametik:0};loading=!0;clientesConProductos=[];indexPlanificacion=0;ordenActual={columna:"totalGastado",ascendente:!1};reportesAgrupadosOrdenados=[];ventasPorZona=[];constructor(){this.indexPlanificacion=this.planificacionService.planificacion().length-1,this.refresh()}cambiar(){this.refresh()}refresh(){this.loading=!0,setTimeout(()=>{this.promedio.mystic=this.planificacionService.planificacion()[this.indexPlanificacion].precios.Mystic,this.promedio.qerametik=this.planificacionService.planificacion()[this.indexPlanificacion].precios.Qerametik,this.planificacionService.loading()||(this.ReportesServices.getReportesAgrupados_(this.fijas,this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe({next:o=>{this.reportesAgrupados=o,this.reportesAgrupadosOrdenados=[...this.reportesAgrupados],this.datos_Mystic=this.reportesAgrupadosOrdenados.filter(t=>{let l=this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosMystic).mystic;return t.marca==="Mystic"||t.marca!=="Mystic"&&t.productosMystic>0}).map(t=>({Promotora:t.promotora,Marca:t.marca,Region:t.region,clientes_atendidos:t.clientes_atendidos,Rebranding:t.porcentajeRebranding,"Productos vendidos":t.productosMystic,"Costo promedio":this.promedio.mystic,Puntuaci\u00F3n:t.puntosMystic,Incentivo:this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosMystic).mystic,"Monto de Und. Vendidas":this.promedio.mystic*t.productosMystic,Incidencia:(this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosMystic).mystic/(this.promedio.mystic*t.productosMystic)*100).toFixed(2),"Total ventas de impulso":t.totalImpulsos,"Total ventas de evento":t.totalEventos,"Dias trabajados":this.buscarDiasTrabajados(t.promotora).totalDias,"Metas alcanzadas":t.conteoMetaUnidades,"Dias impulso":this.buscarDiasTrabajados(t.promotora).impulsoMystic,"Dias evento":this.buscarDiasTrabajados(t.promotora).eventoMystic,"Sueldo diario":Number(t.sueldo)/this.buscarDiasTrabajados(t.promotora).totalDias,"Ventas diarias":this.promedio.mystic*t.productosMystic/this.buscarDiasTrabajados(t.promotora).totalDias})).sort((t,l)=>l.Puntuaci\u00F3n-t.Puntuaci\u00F3n),this.datos_Qerametik=this.reportesAgrupadosOrdenados.filter(t=>{let l=this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosMystic).qerametik;return t.marca==="Qerametik"||t.marca!=="Qerametik"&&t.productosQerametik>0}).map(t=>({Promotora:t.promotora,Marca:t.marca,Region:t.region,clientes_atendidos:t.clientes_atendidos,capilares:t.porcentajeCapilares,"Productos vendidos":t.productosQerametik,"Costo promedio":this.promedio.qerametik,Puntuaci\u00F3n:t.puntosQerametik,Incentivo:this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosQerametik).qerametik,"Monto de Und. Vendidas":this.promedio.qerametik*t.productosQerametik,Incidencia:(this.obtenerIncentivos(t.puntosMystic,t.puntosQerametik,t.promotora,t.marca,t.productosQerametik).qerametik/(this.promedio.qerametik*t.productosQerametik)*100).toFixed(2),"Total ventas de impulso":t.totalImpulsos_qerametik,"Total ventas de evento":t.totalEventos_qerametik,"Dias trabajados":this.buscarDiasTrabajados(t.promotora).totalDias,"Metas alcanzadas":t.conteoMetaUnidadesQ,"Dias impulso":this.buscarDiasTrabajados(t.promotora).impulsoQerametik,"Dias evento":this.buscarDiasTrabajados(t.promotora).eventoQerametik,"Sueldo diario":Number(t.sueldo)/this.buscarDiasTrabajados(t.promotora).totalDias,"Ventas diarias":this.promedio.qerametik*t.productosQerametik/this.buscarDiasTrabajados(t.promotora).totalDias})).sort((t,l)=>l.Puntuaci\u00F3n-t.Puntuaci\u00F3n);let e=new Set;this.clientes.clientes().forEach(t=>{this.reportesAgrupadosOrdenados.some(m=>m.reportes.some(P=>P.cliente===t.cliente))||e.add(t.cliente)}),this.clientesNoAtendidos=Array.from(e),this.loading=!1},error:o=>{console.error("Error al cargar los reportes:",o)}}),this.calcularProductosPorCliente(),this.calcularVentasPorZona())},500)}buscarDiasTrabajados(o){let e=this.reportesAgrupados.find(t=>t.promotora===o);if(e){let t=new Set(e.reportes.filter(s=>s.tipo==="Impulso"&&s.productos.some(u=>u.marca==="Mystic")).map(s=>s.fecha)),l=new Set(e.reportes.filter(s=>s.tipo==="Evento"&&s.productos.some(u=>u.marca==="Mystic")).map(s=>s.fecha)),m=new Set(e.reportes.filter(s=>s.tipo==="Impulso"&&s.productos.some(u=>u.marca==="Qerametik")).map(s=>s.fecha)),P=new Set(e.reportes.filter(s=>s.tipo==="Evento"&&s.productos.some(u=>u.marca==="Qerametik")).map(s=>s.fecha));return{totalDias:new Set(e.reportes.map(s=>s.fecha)).size,impulsoMystic:t.size,eventoMystic:l.size,impulsoQerametik:m.size,eventoQerametik:P.size}}return{totalDias:0,impulsoMystic:0,eventoMystic:0,impulsoQerametik:0,eventoQerametik:0}}simplificar(o){return o.split("T")[0]}puntos(o){return o||0}calcularTotales(o,e){return o.reduce((t,l)=>t+(l[e]||0),0)}obtenerIncentivo(o,e){if(o<e[0].de)return 0;for(let t=0;t<e.length;t++){let l=e[t];if(o>=l.de&&o<=l.hasta)return l.incentivo}return 0}obtenerIncentivos(o,e,t,l,m){let P=0,_=0,s=0;if(this.fijas){if(o<this.planificacionService.planificacion()[this.indexPlanificacion].incentivos[0].de)_=0;else for(let u=0;u<this.planificacionService.planificacion()[this.indexPlanificacion].incentivos.length;u++){let S=this.planificacionService.planificacion()[this.indexPlanificacion].incentivos[u];o>=S.de&&o<=S.hasta&&(_=S.incentivo)}if(e<this.planificacionService.planificacion()[this.indexPlanificacion].incentivos_qerametik[0].de)s=0;else for(let u=0;u<this.planificacionService.planificacion()[this.indexPlanificacion].incentivos_qerametik.length;u++){let S=this.planificacionService.planificacion()[this.indexPlanificacion].incentivos_qerametik[u];e>=S.de&&e<=S.hasta&&(s=S.incentivo)}return{totales:_+s,mystic:_,qerametik:s}}else{let u=this.buscarDiasTrabajados(t).totalDias,S=this.planificacionService.planificacion()[this.indexPlanificacion].metas.rebranding.mystic.impulso,V=this.planificacionService.planificacion()[this.indexPlanificacion].metas.rebranding.qerametik.impulso;if(console.log(l),l==="Mystic"){let Q=S*u;m>=Q?_=25:_=0}else{let Q=V*u;m>=Q?s=25:s=0}return{totales:_+s,mystic:_,qerametik:s}}}BuscarInfo(o){let e=o.split(" "),t=e[0],l=e[1];return this.promotoras.users().find(m=>m.nombre===t&&m.apellido===l)}ordenarPor(o){this.ordenActual.columna===o?this.ordenActual.ascendente=!this.ordenActual.ascendente:(this.ordenActual.columna=o,this.ordenActual.ascendente=!0),this.reportesAgrupadosOrdenados=[...this.reportesAgrupados].sort((e,t)=>{let l=e[o],m=t[o];return l<m?this.ordenActual.ascendente?-1:1:l>m?this.ordenActual.ascendente?1:-1:0})}calcularProductosPorCliente(){let o={},e=[],t=[];this.ReportesServices.cargarReportes_(this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe({next:l=>{this.clientesArray=[];let m={};l=l.filter(_=>_.promotora.fija===this.fijas),l.forEach(_=>{if(!_.cliente||!_.cliente._id||_.cliente.cliente==="FALTA JUSTIFICADA"){console.warn('Reporte excluido (cliente inv\xE1lido o "FALTA JUSTIFICADA"):',_);return}let s=_.cliente._id,u=_.cliente.cliente,S=_.productos[0]?.producto?.marca;o[s]||(o[s]={cliente:u,totalProductos:0,marca:S}),m[u]||(m[u]={cliente:u,cantidad:0,cantidad_mystic:0,cantidad_Qerametik:0,impulsos_mystic:0,eventos_mystic:0,impulsos_qerametik:0,eventos_qerametik:0}),_.tipo==="Impulso"&&S==="Mystic"?m[u].impulsos_mystic+=1:_.tipo==="Evento"&&S==="Mystic"?m[u].eventos_mystic+=1:_.tipo==="Impulso"&&S==="Qerametik"?m[u].impulsos_qerametik+=1:_.tipo==="Evento"&&S==="Qerametik"&&(m[u].eventos_qerametik+=1);let V=_.productos.reduce((Q,ne)=>Q+ne.cantidad,0);o[s].totalProductos+=V,_.productos.forEach(Q=>{m[u].cantidad+=Q.cantidad,Q.producto.marca==="Mystic"?m[u].cantidad_mystic+=Q.cantidad:Q.producto.marca==="Qerametik"&&(m[u].cantidad_Qerametik+=Q.cantidad)})}),this.clientesArray=Object.values(m).sort((_,s)=>s.cantidad-_.cantidad),Object.values(o).forEach(_=>{_.marca==="Mystic"?e.push({cliente:_.cliente,totalProductos:_.totalProductos}):_.marca==="Qerametik"&&t.push({cliente:_.cliente,totalProductos:_.totalProductos})}),this.clientesMystic=e.sort((_,s)=>s.totalProductos-_.totalProductos),this.clientesQerametik=t.sort((_,s)=>s.totalProductos-_.totalProductos)},error:l=>{console.error("Error al cargar los reportes:",l)}})}calcularVentasPorZona(){let o={},e={};this.ReportesServices.cargarReportes_(this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe({next:t=>{t=t.filter(l=>l.promotora.fija===this.fijas),t.forEach(l=>{if(!l.promotora||!l.promotora.region){console.warn("Reporte excluido (promotora sin zona):",l);return}let m=l.promotora.region;l.productos.forEach(P=>{let _=P.cantidad;P.producto.marca==="Mystic"?(o[m]||(o[m]={zona:m,totalProductos:0}),o[m].totalProductos+=_):P.producto.marca==="Qerametik"&&(e[m]||(e[m]={zona:m,totalProductos:0}),e[m].totalProductos+=_)})}),this.ventasPorZonaMystic=Object.values(o).sort((l,m)=>m.totalProductos-l.totalProductos),this.ventasPorZonaQerametik=Object.values(e).sort((l,m)=>m.totalProductos-l.totalProductos)},error:t=>{console.error("Error al cargar los reportes:",t)}})}getTotal(o){return this.reportesAgrupadosOrdenados.reduce((e,t)=>e+(Number(t[o])||0),0)}CambiarAfijas(o){o.value==="Fijas"?(this.fijas=!0,this.refresh(),this.ReportesServices.getReportesAgrupados_(!0,this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe({next:e=>{this.reportesAgrupados=e,this.reportesAgrupadosOrdenados=[...this.reportesAgrupados]},error:e=>{console.error("Error al cargar los reportes:",e)}})):(this.fijas=!1,this.refresh(),this.ReportesServices.getReportesAgrupados_(!1,this.planificacionService.planificacion()[this.indexPlanificacion].inicio,this.planificacionService.planificacion()[this.indexPlanificacion].cierre).subscribe({next:e=>{this.reportesAgrupados=e,this.reportesAgrupadosOrdenados=[...this.reportesAgrupados]},error:e=>{console.error("Error al cargar los reportes:",e)}}))}calcularPorcentaje(o,e){return o/e*100}calcularPorcentaje_impulso_Mystic(o,e){let t=o/30;return e<1?0:t*100/e}calcularPorcentaje_evento_Mystic(o,e){let t=o/40;return e<1?0:t*100/e}calcularPorcentaje_impulso_Qerametik(o,e){let t=o/15;return e<1?0:t*100/e}calcularPorcentaje_evento_Qerametik(o,e){let t=o/30;return e<1?0:t*100/e}calcularPromedio(o,e){return console.log(),Number(o===0||e===0?(o+e).toFixed(2):((o+e)/2).toFixed(2))}exportarClientesNoAtendidos(){if(!this.clientesNoAtendidos||this.clientesNoAtendidos.length===0){console.warn("No hay clientes para exportar.");return}let o=this.clientesNoAtendidos.map(P=>({Clientes:P})),e=w.json_to_sheet(o),t=w.book_new();w.book_append_sheet(t,e,"Clientes No Atendidos");let l=he(t,{bookType:"xlsx",type:"array"}),m=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,ye.saveAs)(m,"ClientesNoAtendidos.xlsx")}exportarClientes(){if(!this.clientesArray||this.clientesArray.length===0){console.warn("No hay clientes para exportar.");return}let o=this.clientesArray.map(P=>({Cliente:P.cliente,"Impulsos Mystic":P.impulsos_mystic,"Eventos Mystic":P.eventos_mystic,"Impulsos Qerametik":P.impulsos_qerametik,"Eventos Qerametik":P.eventos_qerametik,"Cantidad Mystic":P.cantidad_mystic,"Cantidad Qerametik":P.cantidad_Qerametik,"Cantidad Total":P.cantidad})),e=w.json_to_sheet(o),t=w.book_new();w.book_append_sheet(t,e,"Clientes");let l=he(t,{bookType:"xlsx",type:"array"}),m=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,ye.saveAs)(m,"Clientes.xlsx")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Y({type:r,selectors:[["app-listas"]],decls:31,vars:4,consts:[[1,"title"],[1,"field","is-grouped"],[1,"control"],["for","",1,"label"],[1,"select"],[3,"change"],["value","Fijas"],["value","NoFijas"],[3,"ngModelChange","change","ngModel"],[3,"value"],["type","date","disabled","",1,"input",3,"value"],[1,"table","is-fullwidth","is-striped",2,"font-size","x-small"],[2,"position","sticky","top","0","z-index","1"],["colspan","7"],[1,"button","is-primary",3,"click"],[1,"columns"],[1,"column",2,"max-height","100vh","overflow","scroll"],[1,"table","is-fullwidth","is-striped"],["colspan","8"],[1,"title",2,"width","100%","display","block"],[1,"button","is-succes",3,"click"],[1,"icon"],[1,"fas","fa-download"],[1,"column"],[1,"card-",2,"max-height","600px","overflow-y","scroll"],[1,"card-content"],[1,"tag","is-success"],[1,"tag","is-warning"],[1,"tag","is-danger"],["colspan","10"],[3,"routerLink"]],template:function(e,t){e&1&&(n(0,"span",0),a(1,"Promotoras"),i(),v(2,"hr"),n(3,"div",1)(4,"div",2)(5,"label",3),a(6,"\xA0"),i(),n(7,"div",4)(8,"select",5),L("change",function(m){return t.CambiarAfijas(m.target)}),n(9,"option",6),a(10,"Fijas"),i(),n(11,"option",7),a(12,"Por destajos"),i()()()(),n(13,"div",2)(14,"label",3),a(15,"Mes"),i(),n(16,"div",4)(17,"select",8),ce("ngModelChange",function(m){return se(t.indexPlanificacion,m)||(t.indexPlanificacion=m),m}),L("change",function(){return t.cambiar()}),j(18,nt,2,2,"option",9,D),i()()(),n(20,"div",2)(21,"label",3),a(22,"Inicio"),i(),v(23,"input",10),i(),n(24,"div",2)(25,"label",3),a(26,"Cierre"),i(),v(27,"input",10),i()(),v(28,"hr"),E(29,wt,218,18)(30,Vt,1,0,"app-loadings")),e&2&&(c(17),re("ngModel",t.indexPlanificacion),c(),F(t.planificacionService.planificacion()),c(5),I("value",t.simplificar(t.planificacionService.planificacion()[t.indexPlanificacion].inicio)),c(4),I("value",t.simplificar(t.planificacionService.planificacion()[t.indexPlanificacion].cierre)),c(2),k(t.loading?30:29))},dependencies:[ee,le,Ie,_e,ue,be,pe,de,me,De,Qe,ge],styles:["@media (prefers-color-scheme: dark){thead[_ngcontent-%COMP%]{background:#14161a;color:#fff}}"]})};var Ve=r=>({"is-active":r});function $t(r,o){r&1&&v(0,"app-graficas")}function Nt(r,o){r&1&&v(0,"app-listas")}var Pe=class r{graficas=!0;static \u0275fac=function(e){return new(e||r)};static \u0275cmp=Y({type:r,selectors:[["app-reportes-generales"]],decls:17,vars:7,consts:[[1,"card",2,"background","linear-gradient(180deg, rgba(0,26,114,1) 0%, rgba(53,164,182,1) 49%, rgba(107,202,186,1) 100%)","color","rgb(212, 212, 212)"],[1,"card-content"],["title","Estad\xEDsticas"],[1,"subtitle",2,"color","white"],[1,"tabs"],[3,"click","ngClass"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1),v(2,"app-title",2),n(3,"span",3),a(4,"Gr\xE1ficas"),i()()(),v(5,"hr"),n(6,"div",4)(7,"ul")(8,"li",5),L("click",function(){return t.graficas=!t.graficas}),n(9,"a"),a(10,"Gr\xE1ficas"),i()(),n(11,"li",5),L("click",function(){return t.graficas=!t.graficas}),n(12,"a"),a(13,"Listas"),i()()()(),v(14,"br"),E(15,$t,1,0,"app-graficas")(16,Nt,1,0,"app-listas")),e&2&&(c(8),I("ngClass",X(3,Ve,t.graficas)),c(3),I("ngClass",X(5,Ve,!t.graficas)),c(4),k(t.graficas?15:16))},dependencies:[je,ie,ee,Te,Ce],encapsulation:2})};export{Pe as default};
