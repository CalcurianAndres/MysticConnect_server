import{a as w}from"./chunk-DQYHYLGC.js";import{a as E}from"./chunk-IU24C5VR.js";import{e as v}from"./chunk-HYUWSGKO.js";import{a as M,b as S,c as P,i as k}from"./chunk-3KJL3C3X.js";import"./chunk-F5LWF3O4.js";import{B as C,Ia as b,X as s,Yb as y,ab as o,bb as i,cb as r,e as O,eb as _,ib as d,ob as p,p as f,pb as c,qb as m,za as l}from"./chunk-FEZNDU67.js";var x=O(E());var g=class u{loginService=s(w);router=s(v);ngOnInit(){this.session_email=this.loginService.Correo_session,this.session_name=this.loginService.Nombre_session}Correo="";Password="";session_email="";session_name="";login(){let a=document.getElementById("recuerdame");if(!this.Correo||!this.Password)return;let n={correo:this.Correo,password:this.Password};this.loginService.Login(n,a.checked).pipe(C(e=>(console.error("Error occurred:",e),f({error:!0,message:"Correo o contrase\xF1a incorrecta"})))).subscribe(e=>{e.error?x.default.fire({icon:"error",title:e.message,toast:!0,timer:5e3,showConfirmButton:!1,timerProgressBar:!0,position:"top-end"}):(localStorage.setItem("TOKEN_SESSION",e.token),this.router.navigateByUrl("/dashboard"))})}static \u0275fac=function(n){return new(n||u)};static \u0275cmp=b({type:u,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"contenedor"],[1,"overlay"],[1,"cuerpo"],["src","../../assets/logo.jpg"],[1,"form"],[1,"field"],[1,"control"],["type","text","placeholder","Nombre de usuario",1,"input",3,"ngModelChange","ngModel"],["type","password","name","","id","","placeholder","Contrase\xF1a",1,"input",3,"ngModelChange","ngModel"],[1,"field","is-grouped"],[1,"button","is-primary",3,"click"],[1,"icon"],[1,"fas","fa-sign-in-alt"],["type","checkbox","id","recuerdame"]],template:function(n,e){n&1&&(o(0,"div",0)(1,"div",1)(2,"span",2),r(3,"img",3)(4,"br"),o(5,"span",4)(6,"div",5)(7,"div",6)(8,"input",7),m("ngModelChange",function(t){return c(e.Correo,t)||(e.Correo=t),t}),i()()(),o(9,"div",5)(10,"div",6)(11,"input",8),m("ngModelChange",function(t){return c(e.Password,t)||(e.Password=t),t}),i()()(),o(12,"div",9)(13,"div",6)(14,"button",10),_("click",function(){return e.login()}),o(15,"span",11),r(16,"i",12),i(),o(17,"span"),d(18,"Ingresar"),i()()(),o(19,"div",6),r(20,"input",13),o(21,"span"),d(22," Recuerdame"),i()()()()()()()),n&2&&(l(8),p("ngModel",e.Correo),l(3),p("ngModel",e.Password))},dependencies:[y,k,M,S,P],styles:['@charset "UTF-8";.cuerpo[_ngcontent-%COMP%]{position:absolute;display:block;width:100%;height:100%}.cuerpo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:auto;display:block;margin:20px auto 0;box-shadow:0 4px 8px #0003;border-radius:50%}.form[_ngcontent-%COMP%]{width:250px;height:auto;display:block;margin:20px auto 0}.contenedor[_ngcontent-%COMP%]{position:relative;width:100%;height:1100px;background-image:url("./media/logo-QBAG6FX2.jpg");background-size:cover;background-position:center}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1}.contenido[_ngcontent-%COMP%]{position:relative;z-index:2;color:#fff;text-align:center;padding:20px}']})};export{g as default};
